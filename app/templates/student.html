{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}
    Edit Student Data
{% endblock %}

{% block content %}
    <div class="card mt-4">
        <div class="card-body">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mt-3 ml-5 mr-5">
                    <li class="breadcrumb-item"><a href="/">Home</a></li>
                    <li class="breadcrumb-item"><a href="/dashboard">Dashboard</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Edit Student Data</li>
                </ol>
            </nav>
            <h5 class="text-center mt-4 text-secondary">Edit Student Data</h5>
            <form class="mt-3 ml-5 mr-5" method="post">
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% set category, message = messages[0] %}
                        <div class="alert alert-{{ category if category != 'message' else 'danger' }}" role="alert">
                            {{ message }}
                        </div>
                    {% endif %}
                {% endwith %}
                {{ form.csrf_token() }}
                <div class="form-group mt-2">
                    {{ wtf.form_field(form.name, class='form-control', value='' if student is none else student.name, maxlength="50") }}
                </div>
                <div class="form-group mt-2">
                    {{ wtf.form_field(form.phone, class='form-control', value='' if student is none else student.phone, maxlength="10") }}
                </div>
                <div class="form-group mt-2">
                    {{ wtf.form_field(form.email, class='form-control', value='' if student is none else student.email) }}
                </div>
                <div class="form-group mt-2">
                    {{ wtf.form_field(form.dob, class='form-control', value='' if student is none else student.dob, maxlength="10") }}
                </div>
                <div class="form-group mt-2">
                    {{ wtf.form_field(form.branch, class='form-control', value='' if student is none else student.branch, maxlength="50") }}
                </div>
                <div class="form-group mt-2">
                    {{ wtf.form_field(form.minor, class='form-control', value='' if student is none else student.minor, maxlength="50") }}
                </div>
                <div class="form-group mt-2">
                    {{ wtf.form_field(form.year, class='form-control', value='' if student is none else student.year, maxlength="1") }}
                </div>
                <div class="text-center mt-3">
                    {{ wtf.form_field(form.submit, class='btn btn-md btn-primary') }}
                </div>
            </form>
        </div>
    </div>
{% endblock %}